(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e3f4"],{d56c:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("GenericCreateUpdatePage",e._b({},"GenericCreateUpdatePage",e.$data,!1))},i=[],n=s("cd4a"),a=s("7541"),u={name:"ProfileUpdate",components:{GenericCreateUpdatePage:n["d"]},props:{object:{type:Object,default:null}},data:function(){return{url:"/api/v1/users/profile/",fields:[[this.$t("users.Account"),["username","name","email"]],[this.$t("users.Authentication"),["mfa_level","public_key"]],[this.$t("common.Other"),["phone","wechat"]],[this.$t("users.TermsAndConditions"),["terms"]]],fieldsMeta:{username:{disabled:!0},name:{disabled:!0},email:{disabled:!0},mfa_level:{hidden:function(e){return 2===e.mfa_level},helpText:this.$t("users.HelpText.MFAOfUserFirstLoginPersonalInformationImprovementPage")},public_key:{label:this.$t("users.SSHKey"),el:{type:"textarea",placeholder:"ssh-rsa AAAA..."},hidden:function(e){return"local"!==e.source},helpText:this.$t("users.HelpText.SSHKeyOfProfileSSHUpdatePage")},terms:{label:this.$t("users.IAgree"),type:"checkbox",checked:!1,rules:[a["c"]],helpText:this.$t("users.HelpText.MFAOfUserFirstLoginUserGuidePage")}},updateSuccessNextRoute:{name:"UserGuide"},cleanFormValue:function(e){return e=Object.assign({},e,{is_first_login:!1}),2===e.mfa_level&&delete e["mfa_level"],e},performSubmit:function(e){return e.terms?this.$axios["patch"](this.url,e):(this.$message.error(this.$t("common.PleaseAgreeToTheTerms")),Promise.reject())},onPerformSuccess:function(){var e=this;this.$message.success(this.$t("common.updateSuccessMsg")),this.$store.dispatch("users/ifFirstLogin",!1),setTimeout((function(){return e.$router.push({name:"ProfileInfo"})}),100)},submitMethod:function(){return"put"}}},methods:{}},o=u,l=s("2877"),c=Object(l["a"])(o,r,i,!1,null,"0b71057d",null);t["default"]=c.exports}}]);