(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0700d330"],{"0ae7":function(e,t,s){"use strict";var a=s("ef59"),n=s.n(a);n.a},"12dc":function(e,t,s){},"3cc2":function(e,t,s){},"6f20":function(e,t,s){"use strict";var a=s("12dc"),n=s.n(a);n.a},"7b55":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.items,(function(t,a){return s("div",{key:a,staticStyle:{display:"flex","margin-top":"8px"}},[s("el-input",e._b({staticClass:"input-with-select",model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item.value"}},"el-input",e.$attrs,!1),[s("el-select",{attrs:{slot:"prepend"},on:{change:e.handleProtocolChange},slot:"prepend",model:{value:t.select,callback:function(s){e.$set(t,"select",s)},expression:"item.select"}},e._l(e.remainProtocols,(function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),e._v(" "),s("div",{staticClass:"input-button",staticStyle:{display:"flex","margin-left":"20px"}},[s("el-button",{staticStyle:{"flex-shrink":"0"},attrs:{type:"danger",icon:"el-icon-minus",size:"mini",disabled:1===e.items.length},on:{click:function(t){return e.handleDelete(a)}}}),e._v(" "),s("el-button",{staticStyle:{"flex-shrink":"0"},attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.handleAdd(a)}}})],1)],1)})),0)},n=[],i=(s("d25f"),s("28a5"),s("f3e2"),s("7f7f"),s("ac4d"),s("8a81"),s("ac6a"),s("6d67"),{props:{value:{type:[Array],default:function(){return[]}},title:{type:String,default:""}},data:function(){return{select:"",items:[{value:"",select:""}],protocols:[{name:"ssh",port:22},{name:"rdp",port:3389},{name:"telnet",port:23},{name:"vnc",port:5901}]}},computed:{values:function(){var e=[];return this.items.map((function(t){e.push("".concat(t.select,"/").concat(t.value))})),e},itemsMap:function(){var e={},t=!0,s=!1,a=void 0;try{for(var n,i=this.items[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var o=n.value;e[o.select]=o}}catch(r){s=!0,a=r}finally{try{t||null==i.return||i.return()}finally{if(s)throw a}}return e},remainProtocols:function(){var e=[],t=!0,s=!1,a=void 0;try{for(var n,i=this.protocols[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var o=n.value;this.itemsMap[o.name]||e.push(o)}}catch(r){s=!0,a=r}finally{try{t||null==i.return||i.return()}finally{if(s)throw a}}return e}},watch:{values:{handler:function(e){this.$emit("input",e)},immediate:!0,deep:!0}},mounted:function(){var e=this;0!==this.value.length&&(this.items=[],this.value.forEach((function(t){var s=t.split("/");e.items.push({value:s[1],select:s[0]})})))},methods:{onInput:function(e){this.$emit("input","my-input: "+e)},handleDelete:function(e){this.items=this.items.filter((function(t,s){return s!==e}))},handleAdd:function(e){this.items.push({value:"",select:""})},handleProtocolChange:function(e){var t=22;switch(e){case"rdp":t=3389;break;case"telnet":t=23;break;case"vnc":t=5901;break}this.itemsMap[e].value=t}}}),o=i,r=(s("0ae7"),s("2877")),c=Object(r["a"])(o,a,n,!1,null,"4f28c821",null);t["a"]=c.exports},"8f4a":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("GenericTreeListPage",{ref:"TreeList",attrs:{"table-config":e.tableConfig,"help-message":e.helpMessage,"header-actions":e.headerActions,"tree-setting":e.treeSetting}},[s("TreeMenu",{attrs:{slot:"rMenu",tree:e.treeRef},on:{showAll:e.showAll},slot:"rMenu"})],1),e._v(" "),s("AssetBulkUpdateDialog",e._b({attrs:{visible:e.updateSelectedDialogSetting.visible},on:{"update:visible":function(t){return e.$set(e.updateSelectedDialogSetting,"visible",t)}}},"AssetBulkUpdateDialog",e.updateSelectedDialogSetting,!1))],1)},n=[],i=(s("1c01"),s("58b2"),s("8e6e"),s("f3e2"),s("d25f"),s("456d"),s("bd86")),o=(s("ac4d"),s("8a81"),s("ac6a"),s("6d67"),s("d92a"),s("6b54"),s("87b3"),s("fbde")),r=s("e975"),c=s("c0eb"),l=s("2f62"),d=s("e54e"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.visible?s("GenericUpdateFormDialog",e._g({attrs:{"selected-rows":e.selectedRows,"form-setting":e.formSetting,visible:e.visible}},e.$listeners)):e._e()},h=[],m=(s("7f7f"),s("cd4a")),f=s("7b55"),p=s("7541"),v={name:"AssetBulkUpdateDialog",components:{GenericUpdateFormDialog:m["i"]},props:{visible:{type:Boolean,default:!1},selectedRows:{type:Array,default:function(){return[]}}},data:function(){return{formSetting:{url:"/api/v1/assets/assets/",hasSaveContinue:!1,initial:{platform:"Linux",protocols:["ssh/22"]},fields:["platform","protocols","domain","admin_user","labels","comment"],fieldsMeta:{platform:{label:this.$t("assets.Platform"),hidden:function(){return!1},el:{multiple:!1,ajax:{url:"/api/v1/assets/platforms/",transformOption:function(e){return{label:"".concat(e.name),value:e.name}}}}},protocols:{label:this.$t("assets.Protocols"),component:f["a"]},domain:{label:this.$t("assets.Domain"),hidden:function(){return!1},el:{multiple:!1,ajax:{url:"/api/v1/assets/domains/"}}},admin_user:{rules:[p["d"].RequiredChange],label:this.$t("assets.AdminUser"),hidden:function(){return!1},el:{multiple:!1,ajax:{url:"/api/v1/assets/admin-users/",transformOption:function(e){return{label:"".concat(e.name,"(").concat(e.username,")"),value:e.id}}}}},labels:{label:this.$t("assets.Label"),hidden:function(){return!1},el:{ajax:{url:"/api/v1/assets/labels/"}}},comment:{label:this.$t("common.Comment"),hidden:function(){return!1}}}}}}},b=v,g=s("2877"),_=Object(g["a"])(b,u,h,!1,null,"bb586a9e",null),w=_.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("li",{directives:[{name:"perms",rawName:"v-perms",value:"assets.add_assettonode",expression:"'assets.add_assettonode'"}],staticClass:"rmenu",attrs:{id:"m_add_asset_to_node",tabindex:"-1"},on:{click:e.rMenuAddAssetToNode}},[s("i",{staticClass:"fa fa-clone"}),e._v("  "+e._s(this.$t("tree.AddAssetToNode"))+"\n  ")]),e._v(" "),s("li",{directives:[{name:"perms",rawName:"v-perms",value:"assets.move_assettonode",expression:"'assets.move_assettonode'"}],staticClass:"rmenu",attrs:{id:"m_move_asset_to_node",tabindex:"-1"},on:{click:e.rMenuMoveAssetToNode}},[s("i",{staticClass:"fa fa-scissors"}),e._v("  "+e._s(this.$t("tree.MoveAssetToNode"))+"\n  ")]),e._v(" "),e.$hasPerm("assets.move_assettonode | assets.add_assettonode")?s("li",{staticClass:"divider"}):e._e(),e._v(" "),s("li",{directives:[{name:"perms",rawName:"v-perms",value:"assets.refresh_assethardwareinfo",expression:"'assets.refresh_assethardwareinfo'"}],staticClass:"rmenu",attrs:{id:"m_update_node_asset_hardware_info",tabindex:"-1"},on:{click:e.rMenuUpdateNodeAssetHardwareInfo}},[s("i",{staticClass:"fa fa-refresh"}),e._v("  "+e._s(this.$t("tree.UpdateNodeAssetHardwareInfo"))+"\n  ")]),e._v(" "),s("li",{directives:[{name:"perms",rawName:"v-perms",value:"assets.test_assetconnectivity",expression:"'assets.test_assetconnectivity'"}],staticClass:"rmenu",attrs:{id:"m_test_node_asset_connectivity",tabindex:"-1"},on:{click:e.rMenuTestNodeAssetConnectivity}},[s("i",{staticClass:"fa fa-link"}),e._v("  "+e._s(this.$t("tree.TestNodeAssetConnectivity"))+"\n  ")]),e._v(" "),e.$hasPerm("assets.add_assettonode | assets.test_assetconnectivity")?s("li",{staticClass:"divider"}):e._e(),e._v(" "),s("li",{staticClass:"rmenu",attrs:{id:"m_show_asset_only_current_node",tabindex:"-1"},on:{click:e.rMenuShowAssetOnlyCurrentNode}},[s("i",{staticClass:"fa fa-indent"}),e._v("  "+e._s(this.$t("tree.ShowAssetOnlyCurrentNode"))+"\n  ")]),e._v(" "),s("li",{staticClass:"rmenu",attrs:{id:"m_show_asset_all_children_node",tabindex:"-1"},on:{click:e.rMenuShowAssetAllChildrenNode}},[s("i",{staticClass:"fa fa-align-justify"}),e._v("  "+e._s(this.$t("tree.ShowAssetAllChildrenNode"))+"\n  ")]),e._v(" "),s("li",{staticClass:"divider"}),e._v(" "),s("li",{directives:[{name:"perms",rawName:"v-perms",value:"assets.change_node",expression:"'assets.change_node'"}],staticClass:"rmenu",attrs:{id:"m_check_assets_amount",tabindex:"-1"},on:{click:e.rCheckAssetsAmount}},[s("i",{staticClass:"fa fa-clone"}),e._v("  "+e._s(this.$t("tree.CheckAssetsAmount"))+"\n  ")]),e._v(" "),s("li",{staticClass:"rmenu",attrs:{id:"m_show_node_info",tabindex:"-1"},on:{click:e.rMenuShowNodeInfo}},[s("i",{staticClass:"fa fa-info-circle"}),e._v("  "+e._s(this.$t("tree.ShowNodeInfo"))+"\n  ")]),e._v(" "),s("NodeAssetsUpdateDialog",e._b({attrs:{visible:e.nodeAssetsUpdateDialog.visible},on:{"update:visible":function(t){return e.$set(e.nodeAssetsUpdateDialog,"visible",t)}}},"NodeAssetsUpdateDialog",e.nodeAssetsUpdateDialog,!1)),e._v(" "),s("Dialog",{attrs:{width:"50%",title:this.$t("assets.NodeInformation"),visible:e.nodeInfoDialogSetting.dialogVisible,"show-cancel":!1,"show-confirm":!1},on:{"update:visible":function(t){return e.$set(e.nodeInfoDialogSetting,"dialogVisible",t)}}},e._l(e.nodeInfoDialogSetting.items,(function(t){return s("el-row",{key:"card-"+t.key,staticClass:"item",attrs:{gutter:10}},[s("el-col",{attrs:{md:6,sm:24}},[s("div",{staticClass:"item-label"},[s("label",[e._v(e._s(t.label)+": ")])])]),e._v(" "),s("el-col",{attrs:{md:18,sm:24}},[s("div",{staticClass:"item-text"},[e._v(e._s(t.value))])])],1)})),1)],1)},y=[],S=(s("96cf"),s("3b8d")),A=s("82a0"),O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"asset-select-dialog"},[e.iVisible?s("Dialog",{attrs:{title:this.$t("assets.Assets"),visible:e.iVisible,width:"70%",top:"1vh"},on:{"update:visible":function(t){e.iVisible=t},confirm:e.assetTreeTableDialogHandleConfirm,cancel:e.assetTreeTableDialogHandleCancel}},[s("TreeTable",{ref:"TreeTable",attrs:{"tree-setting":e.treeSetting,"table-config":e.tableConfig,"header-actions":e.headerActions}})],1):e._e()],1)},C=[],k=(s("57e7"),s("9039")),M=s("8ad4"),T={name:"NodeAssetsUpdate",components:{Dialog:k["a"],TreeTable:M["a"]},props:{visible:{type:Boolean,default:!1},action:{type:String,default:"add"},selectNode:{type:Object,default:null}},data:function(){var e=this;return{dialogVisible:!1,assetsSelected:[],treeSetting:{showMenu:!1,showRefresh:!0,showAssets:!1,url:"/api/v1/assets/assets/?fields_size=mini",nodeUrl:"/api/v1/assets/nodes/",treeUrl:"/api/v1/assets/nodes/children/tree/?assets=0"},tableConfig:{url:"/api/v1/assets/assets/",hasTree:!0,columns:[{prop:"hostname",label:this.$t("assets.Hostname"),sortable:!0,formatter:r["f"],formatterArgs:{route:"AssetDetail"}},{prop:"ip",label:this.$t("assets.ip"),sortable:"custom"}],listeners:{"toggle-row-selection":function(t,s){t?e.addRowToAssetsSelected(s):e.removeRowFromAssetsSelected(s)}}},headerActions:{hasLeftActions:!1,hasRightActions:!1}}},computed:{iVisible:{set:function(e){var t;null===(t=this.$parent)||void 0===t||t.hideMenu(),this.$emit("update:visible",e)},get:function(){return this.visible}}},methods:{addRowToAssetsSelected:function(e){var t=this.assetsSelected.indexOf(e.id);-1===t&&this.assetsSelected.push(e.id)},removeRowFromAssetsSelected:function(e){var t=this.assetsSelected.indexOf(e.id);t>-1&&this.assetsSelected.splice(t,1)},assetTreeTableDialogHandleConfirm:function(){var e=this,t=this.selectNode,s=this.assetsSelected;if(t&&0!==s.length){var a="/api/v1/assets/nodes/".concat(t.meta.data.id,"/assets/add/");"move"===this.action&&(a="/api/v1/assets/nodes/".concat(t.meta.data.id,"/assets/replace/")),this.$axios.put(a,{assets:s}).then((function(t){e.iVisible=!1,e.assetsSelected=[],Object(c["a"])("#tree-refresh").trigger("click"),e.$message.success(e.$t("common.updateSuccessMsg"))})).catch((function(t){var s;null===(s=e.$parent)||void 0===s||s.hideMenu(),e.$message.error(e.$t("common.updateErrorMsg "+t))}))}},assetTreeTableDialogHandleCancel:function(){this.iVisible=!1,this.assetsSelected=[]}}},D=T,x=Object(g["a"])(D,O,C,!1,null,"01f798a6",null),N=x.exports,j={name:"TreeMenu",components:{NodeAssetsUpdateDialog:N,Dialog:k["a"]},props:{tree:{type:Object,require:!0,default:function(){return{}}}},data:function(){return{nodeAssetsUpdateDialog:{visible:!1,action:"add",selectNode:null},nodeInfoDialogSetting:{dialogVisible:!1,items:[]}}},methods:{rMenuAddAssetToNode:function(){this.nodeAssetsUpdateDialog.visible=!0,this.nodeAssetsUpdateDialog.action="add",this.nodeAssetsUpdateDialog.selectNode=this.getSelectedNodes()[0]},rMenuMoveAssetToNode:function(){this.nodeAssetsUpdateDialog.visible=!0,this.nodeAssetsUpdateDialog.action="move",this.nodeAssetsUpdateDialog.selectNode=this.getSelectedNodes()[0]},rMenuUpdateNodeAssetHardwareInfo:function(){var e=this;this.hideMenu();var t=this.getSelectedNodes()[0];t&&this.$axios.post("/api/v1/assets/nodes/".concat(t.meta.data.id,"/tasks/"),{action:"refresh"}).then((function(e){Object(A["i"])(e["task"])})).catch((function(t){e.$message.error(e.$t("common.updateErrorMsg "+t))}))},rMenuTestNodeAssetConnectivity:function(){var e=this;this.hideMenu();var t=this.getSelectedNodes()[0];t&&this.$axios.post("/api/v1/assets/nodes/".concat(t.meta.data.id,"/tasks/"),{action:"test"}).then((function(e){Object(A["i"])(e["task"])})).catch((function(t){e.$message.error(e.$t("common.updateErrorMsg "+t))}))},rMenuShowAssetOnlyCurrentNode:function(){this.hideMenu();var e=this.getSelectedNodes()[0];e&&this.$emit("showAll",{node:e,showCurrentAsset:1})},rMenuShowAssetAllChildrenNode:function(){this.hideMenu();var e=this.getSelectedNodes()[0];e&&this.$emit("showAll",{node:e,showCurrentAsset:0})},rMenuShowNodeInfo:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.getSelectedNodes()[0],t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,this.$axios.get("/api/v1/assets/nodes/".concat(t.meta.data.id,"/"));case 6:s=e.sent,this.nodeInfoDialogSetting.dialogVisible=!0,this.nodeInfoDialogSetting.items=[{key:"id",label:"ID",value:s.id},{key:"name",label:this.$t("assets.Name"),value:s.name},{key:"fullName",label:this.$t("assets.FullName"),value:s.full_value}],e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),this.$message.error(this.$t("common.ErrorMsg "+e.t0));case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));function t(){return e.apply(this,arguments)}return t}(),rCheckAssetsAmount:function(){var e=this;this.$axios.post("/api/v1/assets/nodes/check_assets_amount_task/").then((function(e){Object(A["i"])(e["task"])})).catch((function(t){e.$message.error(e.$t("common.updateErrorMsg "+t))}))},hideMenu:function(){this.tree.hideRMenu()},getSelectedNodes:function(){return this.tree.getSelectedNodes()}}},R=j,P=(s("6f20"),Object(g["a"])(R,$,y,!1,null,"74167ee6",null)),U=P.exports;function I(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?I(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):I(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var V={components:{GenericTreeListPage:o["a"],AssetBulkUpdateDialog:w,TreeMenu:U},data:function(){var e=this,t=this.$createElement,s=this;return{treeRef:null,treeSetting:{showMenu:!0,showRefresh:!0,showAssets:!1,showCreate:!0,showUpdate:!0,showDelete:!0,hasRightMenu:!0,showSearch:!0,customTreeHeader:!0,url:"/api/v1/assets/assets/",nodeUrl:"/api/v1/assets/nodes/",treeUrl:"/api/v1/assets/nodes/children/tree/?assets=0"},tableConfig:{url:"/api/v1/assets/assets/",hasTree:!0,columns:["hostname","ip","public_ip","admin_user_display","protocols","platform","hardware_info","model","cpu_model","cpu_cores","cpu_count","cpu_vcpus","disk_info","disk_total","memory","os","os_arch","os_version","number","vendor","sn","is_active","connectivity","labels_display","created_by","date_created","comment","org_name","actions"],columnsShow:{min:["hostname","ip","actions"],default:["hostname","ip","platform","protocols","hardware_info","connectivity","actions"]},columnsMeta:{hostname:{formatter:r["f"],formatterArgs:{route:"AssetDetail"},showOverflowTooltip:!0,sortable:!0},platform:{sortable:!0},protocols:{formatter:function(e){return t("span",[" ",e.protocols.toString()," "])}},ip:{sortable:"custom",width:"140px"},hardware_info:{showOverflowTooltip:!0},cpu_model:{showOverflowTooltip:!0},sn:{showOverflowTooltip:!0},comment:{showOverflowTooltip:!0},connectivity:d["a"],labels_display:{formatter:r["m"]},actions:{formatter:r["a"],formatterArgs:{performDelete:function(t){var s=t.row,a=(t.col,s.id),n="/api/v1/assets/assets/".concat(a,"/");return e.$axios.delete(n)},extraActions:[{name:"View",title:this.$t("common.UpdateAssetDetail"),type:"primary",can:s.$hasPerm("assets.refresh_assethardwareinfo"),callback:function(e){e.cellValue,e.tableData;var t=e.row;return this.$router.push({name:"AssetMoreInformationEdit",params:{id:t.id}})}}]}}}},headerActions:{createRoute:function(){return{name:"AssetCreate",query:e.$route.query}},createInNewPage:!0,searchConfig:{options:[{label:this.$t("assets.Label"),value:"label"}]},extraActions:[{name:this.$t("xpack.Cloud.CloudSync"),title:this.$t("xpack.Cloud.CloudSync"),has:function(){return s.$hasPerm("xpack.view_account")&&s.$hasLicense()},callback:function(){return e.$router.push({name:"CloudCenter"})}}],extraMoreActions:[{name:"DeactiveSelected",title:this.$t("assets.DeactiveSelected"),type:"primary",can:function(e){var t=e.selectedRows;return t.length>0&&s.$hasPerm("assets.change_asset")},callback:function(e){var t=this,s=e.selectedRows,a=s.map((function(e){return{pk:e.id,is_active:!1}}));this.$axios.patch("/api/v1/assets/assets/",a).then((function(e){t.$message.success(t.$t("common.updateSuccessMsg"))})).catch((function(e){t.$message.error(t.$t("common.updateErrorMsg "+e))}))}.bind(this)},{name:"ActiveSelected",title:this.$t("assets.ActiveSelected"),type:"primary",can:function(e){var t=e.selectedRows;return t.length>0&&s.$hasPerm("assets.change_asset")},callback:function(e){var t=this,s=e.selectedRows,a=s.map((function(e){return{pk:e.id,is_active:!0}}));this.$axios.patch("/api/v1/assets/assets/",a).then((function(e){t.$message.success(t.$t("common.updateSuccessMsg"))})).catch((function(e){t.$message.error(t.$t("common.updateErrorMsg "+e))}))}.bind(this)},{name:"actionUpdateSelected",title:this.$t("common.updateSelected"),can:function(e){var t=e.selectedRows;return t.length>0&&!s.currentOrgIsRoot&&s.$hasPerm("assets.change_asset")},callback:function(e){var t=e.selectedRows;s.updateSelectedDialogSetting.selectedRows=t,s.updateSelectedDialogSetting.visible=!0}},{name:"RemoveFromCurrentNode",title:this.$t("assets.RemoveFromCurrentNode"),can:function(e){var t=e.selectedRows;return!!s.$route.query.node&&(t.length>0&&!s.currentOrgIsRoot&&s.$hasPerm("assets.change_node"))},callback:function(e){var t=this,s=e.selectedRows,a=e.reloadTable,n=[],i=!0,o=!1,r=void 0;try{for(var c,l=s[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var d=c.value;n.push(d.id)}}catch(m){o=!0,r=m}finally{try{i||null==l.return||l.return()}finally{if(o)throw r}}var u=this.$route.query.node;if(u){var h="/api/v1/assets/nodes/".concat(u,"/assets/remove/");this.$axios.put(h,{assets:n}).then((function(e){t.$message.success(t.$t("common.removeSuccessMsg")),a()})).catch((function(e){t.$message.error(t.$t("common.removeErrorMsg "+e))}))}}.bind(this)}]},helpMessage:this.$t("assets.AssetListHelpMessage"),updateSelectedDialogSetting:{visible:!1,selectedRows:[]}}},computed:E({},Object(l["b"])(["currentOrgIsRoot"])),mounted:function(){this.decorateRMenu(),this.treeSetting.hasRightMenu=!this.currentOrgIsRoot,this.treeSetting.showCreate=this.$hasPerm("assets.add_node"),this.treeSetting.showUpdate=this.$hasPerm("assets.change_node"),this.treeSetting.showDelete=this.$hasPerm("assets.delete_node"),this.treeRef=this.$refs.TreeList},methods:{decorateRMenu:function(){var e=this.$cookie.get("show_current_asset")||"0";"1"===e?(Object(c["a"])("#m_show_asset_all_children_node").css("color","#606266"),Object(c["a"])("#m_show_asset_only_current_node").css("color","green")):(Object(c["a"])("#m_show_asset_all_children_node").css("color","green"),Object(c["a"])("#m_show_asset_only_current_node").css("color","#606266"))},showAll:function(e){var t=e.node,s=e.showCurrentAsset;this.$cookie.set("show_current_asset",s,1),this.decorateRMenu();var a="".concat(this.treeSetting.url,"?node_id=").concat(t.meta.data.id,"&show_current_asset=").concat(s);this.$refs.TreeList.$refs.TreeTable.handleUrlChange(a)}}},L=V,H=(s("96ce"),Object(g["a"])(L,a,n,!1,null,"17ca9a44",null));t["default"]=H.exports},"96ce":function(e,t,s){"use strict";var a=s("d1a3"),n=s.n(a);n.a},c0eb:function(e,t,s){"use strict";var a=s("1157"),n=s.n(a);window.$=n.a,window.jQuery=n.a,t["a"]=n.a},d1a3:function(e,t,s){},ef59:function(e,t,s){},fbde:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Page",e._b({},"Page",e.$attrs,!1),[s("TreeTable",e._g(e._b({ref:"TreeTable",scopedSlots:e._u([{key:"table",fn:function(){return[e._t("table")]},proxy:!0},{key:"rMenu",fn:function(t){var a=t.data;return s("div",{},[e._t("rMenu",null,{data:a})],2)}}],null,!0)},"TreeTable",e.$attrs,!1),e.$listeners))],1)},n=[],i=(s("1c01"),s("58b2"),s("8e6e"),s("f3e2"),s("d25f"),s("ac6a"),s("456d"),s("bd86")),o=s("83b2"),r=s("8ad4"),c=s("2f62");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={name:"GenericTreeListPage",components:{Page:o["a"],TreeTable:r["a"]},computed:d({},Object(c["b"])(["currentOrgIsRoot"])),created:function(){var e=this.$attrs["header-actions"]||{};void 0===e.canCreate&&this.currentOrgIsRoot&&_.set(this.$attrs,"header-actions.canCreate",!1),void 0===e.hasImport&&this.currentOrgIsRoot&&_.set(this.$attrs,"header-actions.hasImport",!1)},methods:{hideRMenu:function(){this.$refs.TreeTable.hideRMenu()},getSelectedNodes:function(){return this.$refs.TreeTable.getSelectedNodes()},getNodes:function(){return this.$refs.TreeTable.getNodes()},selectNode:function(e){return this.$refs.TreeTable.selectNode(e)}}},h=u,m=s("2877"),f=Object(m["a"])(h,a,n,!1,null,"e5ee6c70",null);t["a"]=f.exports}}]);