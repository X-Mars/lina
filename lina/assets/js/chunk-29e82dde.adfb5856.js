(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29e82dde"],{"54bc":function(e,t,a){},"66b9":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("GenericDetailPage",e._g(e._b({attrs:{object:e.TaskDetail,"active-menu":e.config.activeMenu},on:{"update:object":function(t){e.TaskDetail=t},"update:activeMenu":function(t){return e.$set(e.config,"activeMenu",t)},"update:active-menu":function(t){return e.$set(e.config,"activeMenu",t)}}},"GenericDetailPage",e.config,!1),e.$listeners),[a("keep-alive",[a(e.config.activeMenu,{tag:"component",attrs:{object:e.TaskDetail}})],1)],1)},r=[],n=a("cd4a"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:14,sm:24}},[a("DetailCard",{attrs:{items:e.detailCardItems}})],1),e._v(" "),a("el-col",{attrs:{md:10,sm:24}},[a("RelationCard",e._b({ref:"users"},"RelationCard",e.userRelationConfig,!1)),e._v(" "),a("RelationCard",e._b({ref:"userGroups",staticClass:"card-margin",attrs:{type:"info"}},"RelationCard",e.userGroupsRelationConfig,!1)),e._v(" "),a("RelationCard",e._b({ref:"applications",staticClass:"card-margin",attrs:{type:"warning"}},"RelationCard",e.applicationsRelationConfig,!1)),e._v(" "),a("RelationCard",e._b({ref:"systemUsers",staticClass:"card-margin",attrs:{type:"danger"}},"RelationCard",e.systemUserRelationConfig,!1))],1)],1)},o=[],c=a("bd86"),l=(a("ac6a"),a("f3e2"),a("7f7f"),a("b97b")),u=a("58fd"),d=a("cf45"),f={name:"Detail",components:{DetailCard:l["a"],RelationCard:u["a"]},props:{object:{type:Object,default:function(){}}},data:function(){var e=this,t=!this.$hasPerm("assets.change_commandfilter"),a=function(e,t){var a=e[t]?e[t]:"username"===t?"*":"";return{label:e.name+"("+a+")",value:e.id}};return{userRelationConfig:{disabled:t,icon:"fa-user",title:this.$t("common.User"),objectsAjax:{url:"/api/v1/users/users/?fields_size=mini",transformOption:function(e){return a(e,"username")}},hasObjectsId:this.object.users,performAdd:function(t){return e.performAddHandle(t,"users")},performDelete:function(t){return e.performDeleteHandle(t,"users")}},userGroupsRelationConfig:{disabled:t,icon:"fa-users",title:this.$t("users.UserGroups"),objectsAjax:{url:"/api/v1/users/groups/"},hasObjectsId:this.object.user_groups,performAdd:function(t){return e.performAddHandle(t,"user_groups")},performDelete:function(t){return e.performDeleteHandle(t,"user_groups")}},applicationsRelationConfig:{disabled:t,icon:"fa-th",title:this.$t("assets.Applications"),objectsAjax:{url:"/api/v1/applications/applications/?category__in=db,cloud",transformOption:function(e){return a(e,"type_display")}},hasObjectsId:this.object.applications,performAdd:function(t){return e.performAddHandle(t,"applications")},performDelete:function(t){return e.performDeleteHandle(t,"applications")}},systemUserRelationConfig:{disabled:t,icon:"fa-info-circle",title:this.$t("assets.SystemUser"),objectsAjax:{url:"/api/v1/assets/system-users/?protocol__in=ssh,telnet,mysql,postgresql,mariadb,oracle,sqlserver,k8s",transformOption:function(e){return a(e,"username")}},hasObjectsId:this.object.system_users,performAdd:function(t){return e.performAddHandle(t,"system_users")},performDelete:function(t){return e.performDeleteHandle(t,"system_users")}}}},computed:{detailCardItems:function(){return[{key:this.$t("assets.Name"),value:this.object.name},{key:this.$t("assets.date_joined"),value:Object(d["q"])(this.object.date_created)},{key:this.$t("assets.DateUpdated"),value:Object(d["q"])(this.object.date_updated)},{key:this.$t("assets.CreatedBy"),value:this.object.created_by},{key:this.$t("assets.Comment"),value:this.object.comment}]}},methods:{performAddHandle:function(e,t){var a=[],s=_.camelCase(t),r=this.$refs[s].iHasObjects,n="/api/v1/assets/cmd-filters/".concat(this.object.id,"/");return r.forEach((function(e){return a.push(e.value)})),e.forEach((function(e){return a.push(e.value)})),this.$axios.patch(n,Object(c["a"])({},t,a))},performDeleteHandle:function(e,t){var a=[],s=(null===e||void 0===e?void 0:e.value)||"",r=_.camelCase(t),n=this.$refs[r].iHasObjects,i="/api/v1/assets/cmd-filters/".concat(this.object.id,"/");return n.forEach((function(e){e.value!==s&&a.push(e.value)})),this.$axios.patch(i,Object(c["a"])({},t,a))}}},p=f,m=(a("ba1f"),a("2877")),h=Object(m["a"])(p,i,o,!1,null,"6bcf7025",null),b=h.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("GenericListTable",{attrs:{"table-config":e.tableConfig,"header-actions":e.headerActions}})},j=[],g=a("3758"),C={name:"Rules",components:{GenericListTable:g["a"]},props:{object:{type:Object,default:function(){}}},data:function(){return{tableConfig:{url:"/api/v1/assets/cmd-filters/".concat(this.object.id,"/rules/"),permissions:{resource:"commandfilterrule"},columns:["type","content","ignore_case","action","priority","pattern","comment","actions"],columnsMeta:{type:{width:"100px"},ignore_case:{width:"100px",formatterArgs:{showFalse:!1}},priority:{width:"70px"},action:{width:"90px"},content:{showOverflowTooltip:!0},actions:{formatterArgs:{hasClone:!1,updateRoute:{name:"CommandFilterRulesUpdate",query:{filter:this.object.id}}}}}},headerActions:{hasSearch:!0,hasBulkDelete:!1,hasMoreActions:!1,createRoute:{name:"CommandFilterRulesCreate",query:{filter:this.object.id}}}}}},y=C,D=Object(m["a"])(y,v,j,!1,null,"b5ada116",null),R=D.exports,$={components:{GenericDetailPage:n["e"],TabPage:n["m"],Detail:b,Rules:R},data:function(){var e=this;return{TaskDetail:{},config:{activeMenu:"Detail",submenu:[{title:this.$t("assets.CommandFilterDetail"),name:"Detail"},{title:this.$t("assets.CommandFilterRules"),name:"rules",hidden:function(){return!e.$hasPerm("assets.view_commandfilterrule")}}],hasRightSide:!0}}}},A=$,O=Object(m["a"])(A,s,r,!1,null,"1deeef42",null);t["default"]=O.exports},ba1f:function(e,t,a){"use strict";var s=a("54bc"),r=a.n(s);r.a}}]);