(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d231253"],{eefc:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("GenericDetailPage",t._g(t._b({attrs:{object:t.TaskDetail,"active-menu":t.config.activeMenu},on:{"update:object":function(e){t.TaskDetail=e},"update:activeMenu":function(e){return t.$set(t.config,"activeMenu",e)},"update:active-menu":function(e){return t.$set(t.config,"activeMenu",e)}}},"GenericDetailPage",t.config,!1),t.$listeners),[a("keep-alive",[a(t.config.activeMenu,{tag:"component",attrs:{object:t.TaskDetail}})],1)],1)},i=[],c=a("cd4a"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:14,sm:24}},[a("DetailCard",{attrs:{items:t.detailCardItems}})],1),t._v(" "),a("el-col",{attrs:{md:10,sm:24}},[a("QuickActions",{attrs:{type:"primary",actions:t.quickActions}})],1)],1)},o=[],l=(a("6d67"),a("7f7f"),a("d92a"),a("b97b")),r=a("8c34"),u=a("cf45"),d=a("82a0"),p={name:"Detail",components:{DetailCard:l["a"],QuickActions:r["a"]},props:{object:{type:Object,default:function(){}}},data:function(){return{quickActions:[{title:this.$t("xpack.Cloud.RunTaskManually"),attrs:{type:"primary",label:this.$t("xpack.Execute"),disabled:!this.$hasPerm("xpack.add_syncinstancetaskexecution")},callbacks:{click:function(){this.$axios.get("/api/v1/xpack/cloud/sync-instance-tasks/".concat(this.object.id,"/run/")).then((function(t){Object(d["i"])(t["task"])}))}.bind(this)}}]}},computed:{detailCardItems:function(){var t,e;this.$createElement;return[{key:this.$t("xpack.Cloud.Name"),value:this.object.name},{key:this.$t("xpack.Cloud.Account"),value:this.object.account_display},{key:this.$t("xpack.Cloud.Node"),value:this.object.node_display},{key:this.$t("xpack.Cloud.LinuxAdminUser"),value:this.object.unix_admin_user_display},{key:this.$t("xpack.Cloud.WindowsAdminUser"),value:this.object.windows_admin_user_display},{key:this.$t("assets.Protocols"),value:null===(t=this.object.protocols)||void 0===t?void 0:t.join(", ")},{key:this.$t("xpack.Cloud.IPNetworkSegment"),value:null===(e=this.object.ip_network_segment_group)||void 0===e?void 0:e.join(", ")},{key:this.$t("xpack.Cloud.IsAlwaysUpdate"),value:this.object.is_always_update?this.$t("xpack.Cloud.True"):this.$t("xpack.Cloud.False")},{key:this.$t("xpack.Cloud.PeriodicPerform"),value:this.object.is_periodic?this.$t("xpack.Cloud.True"):this.$t("xpack.Cloud.False")},{key:this.$t("xpack.Cloud.Periodic"),value:this.object.periodic_display},{key:this.$t("xpack.Cloud.DateLastSync"),value:this.object.date_last_sync?Object(u["q"])(this.object.date_created):""},{key:this.$t("xpack.Cloud.DateCreated"),value:this.object.date_created?Object(u["q"])(this.object.date_created):""},{key:this.$t("xpack.Cloud.Region"),value:this.object.regions,formatter:function(t,e){var a=this.$createElement;return a("div",[e.map((function(t){return a("div",[t])}))])}},{key:this.$t("xpack.Cloud.Comment"),value:this.object.comment}]}},mounted:function(){},methods:{}},h=p,k=a("2877"),m=Object(k["a"])(h,n,o,!1,null,"26e32dc6",null),b=m.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("GenericListTable",{ref:"GenericListTable",attrs:{"table-config":t.tableConfig,"header-actions":t.headerActions}})},f=[],$=a("3758"),x=a("e975"),C={name:"HistoryList",components:{GenericListTable:$["a"]},props:{object:{type:Object,default:function(){}}},data:function(){return{headerActions:{hasLeftActions:!1,hasBulkDelete:!1,hasImport:!1,hasExport:!1,hasSearch:!0},tableConfig:{url:"/api/v1/xpack/cloud/sync-instance-tasks/".concat(this.object.id,"/history/"),columns:[{prop:"summary.new",label:this.$t("xpack.Cloud.NewCount")},{prop:"summary.unsync",label:this.$t("xpack.Cloud.UnSyncCount")},{prop:"summary.sync",label:this.$t("xpack.Cloud.SyncedCount")},{prop:"summary.released",label:this.$t("xpack.Cloud.ReleasedCount")},{prop:"status_display",label:this.$t("xpack.Cloud.Status")},{prop:"date_sync",label:this.$t("xpack.Cloud.DateSync"),formatter:x["d"]},{prop:"id",label:this.$t("common.Action"),align:"center",formatter:x["a"],formatterArgs:{hasUpdate:!1,hasDelete:!1,moreActionsTitle:this.$t("xpack.Cloud.Log"),hasClone:!1,extraActions:[{name:"View",title:this.$t("common.View"),type:"primary",callback:function(t){Object(d["i"])(t.row.id)}}]}}]}}}},v=C,_=Object(k["a"])(v,y,f,!1,null,"fd0b01a2",null),j=_.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("GenericListTable",{ref:"GenericListTable",attrs:{"table-config":t.tableConfig,"header-actions":t.headerActions}})},A=[],D={name:"AssetList",components:{GenericListTable:$["a"]},props:{object:{type:Object,default:function(){}}},data:function(){return{headerActions:{hasLeftActions:!0,hasBulkDelete:!1,hasImport:!1,hasExport:!1,hasSearch:!0,hasCreate:!1,moreActionsTitle:this.$t("common.MoreActions"),moreActionsType:"primary",extraMoreActions:[{name:this.$t("xpack.Cloud.DeleteReleasedAssets"),title:this.$t("xpack.Cloud.DeleteReleasedAssets"),type:"primary",can:!0,callback:this.DeleteReleasedAssets.bind(this)}]},tableConfig:{url:"/api/v1/xpack/cloud/sync-instance-tasks/".concat(this.object.id,"/instances/"),columns:["instance_id",{prop:"asset_display",label:this.$t("xpack.Asset")},{prop:"asset_ip",label:this.$t("xpack.ip")},"region",{prop:"status_display",label:this.$t("xpack.Cloud.Status")},{prop:"date_sync",label:this.$t("xpack.Cloud.DateSync"),formatter:x["d"]}]}}},methods:{DeleteReleasedAssets:function(){var t=this;this.$axios.delete("/api/v1/xpack/cloud/sync-instance-tasks/".concat(this.object.id,"/released-assets/")).then((function(e){t.$message.success(t.$t("common.deleteSuccessMsg")),t.$refs.GenericListTable.$refs.ListTable.reloadTable()})).catch((function(){t.$message.error(t.$t("common.deleteErrorMsg"))}))}}},T=D,w=Object(k["a"])(T,g,A,!1,null,"5d4284b4",null),L=w.exports,S={name:"SyncInstanceTaskDetail",components:{GenericDetailPage:c["e"],TabPage:c["m"],detail:b,HistoryList:j,AssetList:L},data:function(){var t=this,e=this;return{TaskDetail:{},config:{activeMenu:"detail",url:"/api/v1/xpack/cloud/sync-instance-tasks",actions:{canDelete:e.$hasPerm("xpack.delete_syncinstancetask"),canUpdate:e.$hasPerm("xpack.change_syncinstancetask")},submenu:[{title:this.$t("xpack.Cloud.SyncInstanceTaskDetail"),name:"detail"},{title:this.$t("xpack.Cloud.SyncInstanceTaskHistoryList"),name:"HistoryList",hidden:function(){return!t.$hasPerm("xpack.view_syncinstancetaskexecution")}},{title:this.$t("xpack.Cloud.SyncInstanceTaskHistoryAssetList"),name:"AssetList",hidden:function(){return!t.$hasPerm("xpack.view_syncinstancedetail")}}],hasRightSide:!0}}}},P=S,M=Object(k["a"])(P,s,i,!1,null,"a9789856",null);e["default"]=M.exports}}]);